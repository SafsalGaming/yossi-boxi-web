<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YOSSI BOXI - Game</title>
  <link rel="stylesheet" href="css/app.css" />
  <style>
    #wrap{position:relative;border-radius:16px;overflow:hidden;box-shadow:var(--shadow)}
    canvas{display:block;background:#0d1117}
    .hud{position:absolute;inset:0;pointer-events:none;text-shadow:0 2px 8px rgba(0,0,0,.6)}
    .hudTop{position:absolute;left:14px;right:14px;top:10px;display:flex;gap:10px;justify-content:space-between;align-items:center}
    .hearts{
      position:absolute;top:10px;left:50%;transform:translateX(-50%);
      display:flex;gap:10px;align-items:center;justify-content:center;pointer-events:none;
    }
    .hearts img{width:34px;height:34px;image-rendering:pixelated;filter:drop-shadow(0 8px 14px rgba(0,0,0,.55))}
    .overlay{
      position:absolute;inset:0;display:none;align-items:center;justify-content:center;
      background:rgba(0,0,0,.55);backdrop-filter:blur(10px);
    }
    .box{
      width:min(520px, 92vw);
      background:rgba(0,0,0,.32);
      border:1px solid var(--line);
      border-radius:16px;
      padding:16px;
      text-align:center;
    }
  </style>
</head>
<body>
  <div id="loader">
    <div class="loaderBox">
      <div class="spinner"></div>
      <div class="pill">Loading...</div>
    </div>
  </div>

  <div class="wrap">
    <div id="wrap">
      <canvas id="game" width="960" height="540"></canvas>

      <div class="hud">
        <div class="hudTop">
          <div class="row" style="gap:10px">
            <div class="pill">Score: <span id="score" class="num">0</span></div>
            <div class="pill coins">Coins: <span id="coins" class="num coinsNum">0</span></div>
            <div class="pill">Skin: <span id="skinName">...</span></div>
          </div>
          <div class="row" style="gap:10px">
            <button class="btn ghost" id="pauseBtn" style="pointer-events:auto">Pause (Space)</button>
            <button class="btn danger" id="backBtn" style="pointer-events:auto">Exit</button>
          </div>
        </div>

        <div class="hearts" id="hearts"></div>
      </div>

      <div class="overlay" id="over">
        <div class="box">
          <div class="pill" style="justify-content:center">Game Over</div>
          <div style="height:10px"></div>
          <div class="small">Score: <span id="finalScore">0</span></div>
          <div class="small">Coins earned: <span id="finalCoins">0</span></div>
          <div style="height:14px"></div>
          <button class="btn primary" id="toMenu">Back to Menu</button>
        </div>
      </div>
    </div>
  </div>

  <script src="js/firebase-config.js"></script>
  <script type="module" src="js/game.js"></script>
</body>
</html>
